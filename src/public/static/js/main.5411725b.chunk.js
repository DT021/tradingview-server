(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{132:function(e,t,a){e.exports=a.p+"static/media/up-arrow.00b81309.svg"},133:function(e,t,a){e.exports=a.p+"static/media/down-arrow.4254d1c6.svg"},138:function(e,t,a){e.exports=a(253)},143:function(e,t,a){},144:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},145:function(e,t,a){},248:function(e,t){},251:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(70),c=a.n(r),o=(a(143),a(144),a(145),a(22)),i=a(32),s=a(26),m=a(27),u=a(31),d=a(28),h=a(15),b=a(30),g=(a(79),a(34)),p=a.n(g),E="http://104.238.145.61:7000";function f(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"#"},"Tradingview"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(o.b,{className:"nav-link",href:"#"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/table",className:"nav-link",href:"#"},"Table")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(o.b,{to:"/create",className:"nav-link",href:"#"},"Create"))))))}var v=a(53),y=a.n(v),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={rows:[],loading:!1,deleting:!1},a.deleteMarket=a.deleteMarket.bind(Object(h.a)(a)),a.getData=a.getData.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"getData",value:function(){var e=this;this.setState({loading:!0}),p.a.get(E+"/api/markets").then((function(t){e.setState({loading:!1,rows:t.data})}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillMount",value:function(){this.getData()}},{key:"deleteMarket",value:function(e){var t=this;window.confirm("Do you want to delete this?")&&(this.setState({deleting:!0}),p.a.delete("".concat(E,"/api/market?id=").concat(e)).then((function(e){t.setState({deleting:!1}),t.getData()})))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(f,null),l.a.createElement("div",{className:"create",style:{margin:"60px 0"}},this.state.loading?"Loading...":null,l.a.createElement("table",{className:"table border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Link"),l.a.createElement("th",{scope:"col"},"Iframe"),l.a.createElement("th",{scope:"col"},l.a.createElement(o.b,{to:"/create",class:"btn btn-primary btn-sm"},"Add")))),l.a.createElement("tbody",null,this.state.rows.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("th",{scope:"row"},a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.link),l.a.createElement("td",null,l.a.createElement(o.b,{to:"/chart/".concat(t.name)},"Chart")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.deleteMarket(t.id)},class:"btn btn-danger btn-sm"},e.state.deleting?l.a.createElement("img",{src:y.a}):"Remove")))}))))))}}]),t}(l.a.Component);function N(){return l.a.createElement("div",null)}var O=a(21),j=a(61),w=a(128),S=a(14),x=a(55),D=a(88),A=a(90),C=a(130),M=a(89),F=a(85),I=a(2),B=a(52),H=a.n(B),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={buyAnnotationProps:{fontSize:120,rotate:270,fill:"#6BA583",opacity:1,text:"\u2023",y:function(e){return e.yScale.range()[0]/2},onClick:console.log.bind(console),tooltip:function(e){return Object(S.b)("%B")(e.date)}},sellAnnotationProps:{fontSize:60,rotate:90,fill:"#FF0000",opacity:1,text:"\u2023",y:function(e){return e.yScale.range()[0]/3},onClick:console.log.bind(console),tooltip:function(e){return Object(S.b)("%B")(e.date)}}},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.width,n=e.data,r=e.ratio,c=function(e){return e.time},o=[c(Object(I.last)(n)),c(n[n.length-100])];return l.a.createElement(A.b,{height:400,ratio:r,width:a,margin:{left:50,right:50,top:10,bottom:30},type:t,seriesName:"MSFT",data:n,xAccessor:c,xScale:Object(O.scaleTime)(),xExtents:o,yExtents:[function(e){return e.volume}]},l.a.createElement(A.a,{id:1,yExtents:function(e){return[e.high,e.low]}},l.a.createElement(M.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),l.a.createElement(M.YAxis,{axisAt:"right",orient:"left",ticks:5,tickFormat:Object(j.b)(".6f")}),l.a.createElement(x.MouseCoordinateX,{rectWidth:60,at:"bottom",orient:"bottom",displayFormat:Object(S.b)("%d %b %Y %H:%M:%S")}),l.a.createElement(x.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(j.b)(".4f")}),l.a.createElement(C.CandlestickSeries,{width:6}),l.a.createElement(x.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),l.a.createElement(w.OHLCTooltip,{ohlcFormat:Object(j.b)(".5f"),origin:[-40,0]}),l.a.createElement(D.Annotate,{with:H.a,when:function(e){return.99===+e.buy},usingProps:this.state.buyAnnotationProps}),l.a.createElement(D.Annotate,{with:H.a,when:function(e){return.1===+e.sell},usingProps:this.state.sellAnnotationProps})),l.a.createElement(x.CrossHairCursor,null))}}]),t}(l.a.Component);P.defaultProps={type:"svg"};var T=P=Object(F.fitWidth)(P),Y=a(131),L=a.n(Y),W=a(132),z=a.n(W),J=a(133),X=a.n(J),R=(a(251),a(134)),U=a.n(R),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={data:null,signals:[],interval:null,chartId:a.props.match.params.id},a.getData=a.getData.bind(Object(h.a)(a)),a.getSignals=a.getSignals.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"getSignals",value:function(){var e=this;p.a.get("".concat(E,"/api/signals?market=").concat(this.state.chartId)).then((function(e){return e.data})).then((function(t){console.log(t),e.setState({signals:t})}))}},{key:"getData",value:function(){var e=this;fetch("".concat(E,"/api/market?market=").concat(this.state.chartId)).then((function(e){return e.json()})).then((function(t){t.forEach((function(e){e.time=new Date(1e3*e.time)})),t.sort((function(e,t){return e.time-t.time})),e.setState({data:t})}))}},{key:"componentDidMount",value:function(){var e=this;this.getData(),this.getSignals(),this.socket=L.a.connect("".concat("http://104.238.145.61:7001"),{reconnection:!0,reconnectionDelay:500,reconnectionAttempts:10}),this.setState({interval:setInterval((function(){e.getData(),e.getSignals()}),1e4)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return null===this.state.data?l.a.createElement("div",null,"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"chart"},l.a.createElement(T,{type:"hybrid",data:this.state.data})),l.a.createElement("div",{className:"notifications"},l.a.createElement("div",{className:"table-height table-responsive"},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Buy/Sell"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Open"),l.a.createElement("th",null,"High"),l.a.createElement("th",null,"Low"),l.a.createElement("th",null,"Close"))),l.a.createElement("tbody",null,this.state.signals.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,"buy"==e.type?l.a.createElement("img",{src:z.a}):l.a.createElement("img",{src:X.a})),l.a.createElement("td",null,U()(1e3*e.time).format("DD-MM-YYYY HH:MM")),l.a.createElement("td",null,e.open),l.a.createElement("td",null,e.high),l.a.createElement("td",null,e.low),l.a.createElement("td",null,e.close))})))))))}}]),t}(l.a.Component),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={name:"",link:"",loading:!1},a.add=a.add.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"add",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var a={name:this.state.name,link:this.state.link};p.a.post("".concat(E,"/api/market"),a).then((function(e){t.setState({loading:!1},(function(){alert("Added successfully")}))})).catch((function(e){t.setState({loading:!1},(function(){alert(e)}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(f,null),l.a.createElement("img",{src:y.a}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-4 offset-sm-4"},l.a.createElement("form",{className:"form",style:{margin:"50px 0"},onSubmit:this.add},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:function(t){e.setState({name:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Link"),l.a.createElement("input",{type:"text",className:"form-control",name:"link",onChange:function(t){e.setState({link:t.target.value})}})),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},this.state.loading?l.a.createElement("img",{src:y.a}):"Add"))))))}}]),t}(l.a.Component);var G=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(i.a,{exact:!0,path:"/",component:N}),l.a.createElement(i.a,{path:"/table",component:k}),l.a.createElement(i.a,{path:"/create",component:q}),l.a.createElement(i.a,{path:"/chart/:id",component:$}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){e.exports=a.p+"static/media/loading.204a86cf.svg"}},[[138,1,2]]]);
//# sourceMappingURL=main.5411725b.chunk.js.map