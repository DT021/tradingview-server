(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{129:function(e,t,a){e.exports=a.p+"static/media/up-arrow.00b81309.svg"},130:function(e,t,a){e.exports=a.p+"static/media/down-arrow.4254d1c6.svg"},139:function(e,t,a){e.exports=a(255)},144:function(e,t,a){},145:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},146:function(e,t,a){},209:function(e,t){},212:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(72),o=a.n(r),c=(a(144),a(145),a(146),a(23)),i=a(33),s=a(27),m=a(28),u=a(32),h=a(29),d=a(13),f=a(31),p=(a(60),a(36)),b=a.n(p),g="https://52.24.180.173:7000";function E(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{className:"container"},l.a.createElement("a",{className:"navbar-brand",href:"#"},"Tradingview"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement(c.b,{className:"nav-link",href:"#"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement(c.b,{to:"/table",className:"nav-link",href:"#"},"Table")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(c.b,{to:"/create",className:"nav-link",href:"#"},"Create"))))))}var v=a(54),y=a.n(v),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={rows:[],loading:!1,deleting:!1},a.deleteMarket=a.deleteMarket.bind(Object(d.a)(a)),a.getData=a.getData.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getData",value:function(){var e=this;this.setState({loading:!0}),b.a.get(g+"/api/markets").then((function(t){e.setState({loading:!1,rows:t.data})}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillMount",value:function(){this.getData()}},{key:"deleteMarket",value:function(e){var t=this;window.confirm("Do you want to delete this?")&&(this.setState({deleting:!0}),b.a.delete("".concat(g,"/api/market?id=").concat(e)).then((function(e){t.setState({deleting:!1}),t.getData()})))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,null),l.a.createElement("div",{className:"create",style:{margin:"60px 0"}},this.state.loading?"Loading...":null,l.a.createElement("table",{className:"table border"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Name"),l.a.createElement("th",{scope:"col"},"Link"),l.a.createElement("th",{scope:"col"},"Iframe"),l.a.createElement("th",{scope:"col"},l.a.createElement(c.b,{to:"/create",class:"btn btn-primary btn-sm"},"Add")))),l.a.createElement("tbody",null,this.state.rows.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("th",{scope:"row"},a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.link),l.a.createElement("td",null,l.a.createElement(c.b,{to:"/chart/".concat(t.name)},"Chart")),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.deleteMarket(t.id)},class:"btn btn-danger btn-sm"},e.state.deleting?l.a.createElement("img",{src:y.a}):"Remove")))}))))))}}]),t}(l.a.Component);function w(){return l.a.createElement("div",null)}var j=a(88),O=(a(180),a(129)),S=a.n(O),N=a(130),x=a.n(N),A=(a(212),a(79)),C=a.n(A),P=a(135),_=a(131),D=a(22),B=a(63),M=a(132),F=a(15),I=a(56),T=a(34),W=a(80),H=a(134),Y=a(91),L=a(2),R=a(18),z=a.n(R),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={buyBarAnnotationProps:{fontSize:25,fill:"#6BA583",opacity:1,text:"\u2015",y:function(e){return e.yScale.range()[0]-200},onClick:console.log.bind(console),tooltip:function(e){return Object(F.b)("%B")(e.date)}},sellBarSellAnnotationProps:{fontSize:25,fill:"#FF0000",opacity:1,text:"\u2015",y:function(e){return e.yScale.range()[0]-80},onClick:console.log.bind(console),tooltip:function(e){return Object(F.b)("%B")(e.date)}},buyAnnotationProps:{fontSize:16,fill:"#6BA583",opacity:1,text:"\u25b2",y:function(e){return e.yScale.range()[0]-50},onClick:console.log.bind(console),tooltip:function(e){return Object(F.b)("%B")(e.date)}},sellAnnotationProps:{fontSize:16,fill:"#FF0000",opacity:1,text:"\u25bc",y:function(e){return e.yScale.range()[0]/3-50},onClick:console.log.bind(console),tooltip:function(e){return Object(F.b)("%B")(e.date)}},closedAnnotationProps:{fontSize:10,fill:"#333",opacity:1,text:"Market Closed",y:function(e){return e.yScale.range()[0]/2},onClick:console.log.bind(console),tooltip:function(e){return Object(F.b)("%B")(e.date)}}},a.handleReset=a.handleReset.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.setState({suffix:1})}},{key:"handleReset",value:function(){this.setState({suffix:this.state.suffix+1})}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.width,n=e.height,r=e.data,o=e.ratio,c=100;n<300&&(c=30);var i=function(e){return e.time},s=[i(Object(L.last)(r)),i(r[r.length-c])];return l.a.createElement(W.b,{height:n,ratio:o,width:a,margin:{left:50,right:50,top:10,bottom:30},type:t,seriesName:"MSFT_".concat(this.state.suffix),data:r,xAccessor:i,xScale:Object(D.scaleTime)(),xExtents:s,yExtents:[function(e){return e.volume}]},l.a.createElement(W.a,{id:1,yExtents:function(e){return[e.high,e.low]}},l.a.createElement(Y.XAxis,{axisAt:"bottom",orient:"bottom",ticks:6}),l.a.createElement(Y.YAxis,{axisAt:"right",orient:"right",ticks:5,tickFormat:Object(B.b)(".6f")}),l.a.createElement(W.c,{onReset:this.handleReset}),l.a.createElement(I.MouseCoordinateX,{rectWidth:60,at:"bottom",orient:"bottom",displayFormat:Object(F.b)("%d %b %Y %H:%M:%S")}),l.a.createElement(I.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(B.b)(".4f")}),l.a.createElement(H.CandlestickSeries,{width:6}),l.a.createElement(I.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),l.a.createElement(M.OHLCTooltip,{ohlcFormat:Object(B.b)(".5f"),origin:[-40,0]}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return.99===+e.buy},usingProps:this.state.buyAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return"nan"!=e.sell_take_profit&&e.sell_take_profit},usingProps:this.state.sellBarSellAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return"nan"!=e.buy_take_profit&&e.buy_take_profit},usingProps:this.state.buyBarAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return"nan"!=e.buy_take_profit&&e.buy_take_profit},usingProps:this.state.sellBarSellAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return"nan"!=e.sell_take_profit&&e.sell_take_profit},usingProps:this.state.buyBarAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return"0 0"==C()(1e3*e.time).format("d H")},usingProps:this.state.closedAnnotationProps}),l.a.createElement(T.Annotate,{with:z.a,when:function(e){return.01===+e.sell},usingProps:this.state.sellAnnotationProps})),l.a.createElement(I.CrossHairCursor,null))}}]),t}(l.a.Component);J.defaultProps={type:"svg"};var X=J=Object(j.fitWidth)(J);var U=function(e){var t=Object(_.a)(),a=Object(P.a)(t,2),n=a[0],r=a[1],o=r.width,c=r.height,i=window.innerWidth<700?"30vh":"50vh";return l.a.createElement("div",{ref:n,style:{width:"100%",height:i}},l.a.createElement(X,{type:"hybrid",data:e.data,height:c,width:o}))},$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={data:null,signals:[],interval:null,chartId:a.props.match.params.id},a.getData=a.getData.bind(Object(d.a)(a)),a.getSignals=a.getSignals.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"getSignals",value:function(){var e=this;b.a.get("".concat(g,"/api/signals?market=").concat(this.state.chartId)).then((function(e){return e.data})).then((function(t){console.log(t),e.setState({signals:t})}))}},{key:"getData",value:function(){var e=this;fetch("".concat(g,"/api/market?market=").concat(this.state.chartId)).then((function(e){return e.json()})).then((function(t){t.forEach((function(e){e.time=new Date(1e3*e.time)})),t.sort((function(e,t){return e.time-t.time})),e.setState({data:t}),console.log(t)}))}},{key:"componentDidMount",value:function(){var e=this;this.getData(),this.getSignals(),this.setState({interval:setInterval((function(){e.getData(),e.getSignals()}),1e4)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return null===this.state.data?l.a.createElement("div",null,"Loading..."):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"chart"},l.a.createElement(U,{data:this.state.data})),l.a.createElement("div",{className:"table-height table-responsive"},l.a.createElement("table",{className:"table",style:{width:"900px",margin:"10px auto",overflow:"scroll"}},l.a.createElement("colgroup",null,l.a.createElement("col",{span:"1",style:{width:"5%"}}),l.a.createElement("col",{span:"1",style:{width:"40%"}}),l.a.createElement("col",{span:"1",style:{width:"5%"}}),l.a.createElement("col",{span:"1",style:{width:"25%"}}),l.a.createElement("col",{span:"1",style:{width:"25%"}})),l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Buy/Sell"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Entry"),l.a.createElement("th",null,"Take Profit"),l.a.createElement("th",null,"Stop Loss"))),l.a.createElement("tbody",null,this.state.signals.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,"buy"==e.type?l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:S.a})," Buy"):l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:x.a})," Sell")),l.a.createElement("td",null,C()(1e3*e.time).format("DD-MM-YYYY HH:MM")),l.a.createElement("td",null,e.close),l.a.createElement("td",null,e["".concat(e.type,"_take_profit")]),l.a.createElement("td",null,e["".concat(e.type,"_stop_loss")]))}))))))}}]),t}(l.a.Component),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={name:"",link:"",loading:!1},a.add=a.add.bind(Object(d.a)(a)),a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"add",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var a={name:this.state.name,link:this.state.link};b.a.post("".concat(g,"/api/market"),a).then((function(e){t.setState({loading:!1},(function(){alert("Added successfully")}))})).catch((function(e){t.setState({loading:!1},(function(){alert(e)}))}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container"},l.a.createElement(E,null),l.a.createElement("img",{src:y.a}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-4 offset-sm-4"},l.a.createElement("form",{className:"form",style:{margin:"50px 0"},onSubmit:this.add},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",onChange:function(t){e.setState({name:t.target.value})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Link"),l.a.createElement("input",{type:"text",className:"form-control",name:"link",onChange:function(t){e.setState({link:t.target.value})}})),l.a.createElement("div",{className:"form-group text-center"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},this.state.loading?l.a.createElement("img",{src:y.a}):"Add"))))))}}]),t}(l.a.Component);var G=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,l.a.createElement("div",{className:"container"},l.a.createElement(i.a,{exact:!0,path:"/",component:w}),l.a.createElement(i.a,{path:"/table",component:k}),l.a.createElement(i.a,{path:"/create",component:q}),l.a.createElement(i.a,{path:"/chart/:id",component:$}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},54:function(e,t,a){e.exports=a.p+"static/media/loading.204a86cf.svg"}},[[139,1,2]]]);
//# sourceMappingURL=main.56086108.chunk.js.map